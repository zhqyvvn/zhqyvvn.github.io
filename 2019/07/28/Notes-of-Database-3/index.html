<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"zhqyvvn.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.14.1","exturl":false,"sidebar":{"position":"right","display":"always","padding":18,"offset":12,"width":320},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":true,"transition":{"menu_item":"flipInX","post_block":"none","post_header":"flipInX","post_body":"none","coll_header":"flipInX","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Reading notes of Database Systems-The Complete Book (2nd edition), Chapter 5.">
<meta property="og:type" content="article">
<meta property="og:title" content="Reading Notes of Database Systems (3)">
<meta property="og:url" content="http://zhqyvvn.github.io/2019/07/28/Notes-of-Database-3/index.html">
<meta property="og:site_name" content="Tech Knowledge Sharing">
<meta property="og:description" content="Reading notes of Database Systems-The Complete Book (2nd edition), Chapter 5.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-07-29T00:53:02.000Z">
<meta property="article:modified_time" content="2023-03-15T02:08:18.799Z">
<meta property="article:author" content="zhqyvvn">
<meta property="article:tag" content="Relational Algebra">
<meta property="article:tag" content="SQL">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://zhqyvvn.github.io/2019/07/28/Notes-of-Database-3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://zhqyvvn.github.io/2019/07/28/Notes-of-Database-3/","path":"2019/07/28/Notes-of-Database-3/","title":"Reading Notes of Database Systems (3)"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Reading Notes of Database Systems (3) | Tech Knowledge Sharing</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162128119-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-162128119-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Tech Knowledge Sharing</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">zhqyvvn's tech blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-posts"><a href="/archives/" rel="section"><i class="fa fa-book fa-fw"></i>posts</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-folder fa-fw"></i>Categories</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Chapter-5-The-Database-Language-SQL"><span class="nav-text">Chapter 5 - The Database Language SQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Simple-Queries-in-SQL"><span class="nav-text">1. Simple Queries in SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-Projection-in-SQL"><span class="nav-text">1.1. Projection in SQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-Selection-in-SQL"><span class="nav-text">1.2. Selection in SQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-Comparison-of-Strings"><span class="nav-text">1.3. Comparison of Strings</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-Pattern-Matching-in-SQL"><span class="nav-text">1.4. Pattern Matching in SQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-Dates-and-Times"><span class="nav-text">1.5. Dates and Times</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-6-Null-Values-and-Comparisons-Involving-NULL"><span class="nav-text">1.6. Null Values and Comparisons Involving NULL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-7-The-Truth-Value-UNKNOWN"><span class="nav-text">1.7. The Truth-Value UNKNOWN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-8-Ordering-the-Output"><span class="nav-text">1.8. Ordering the Output</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Queries-Involving-More-Than-One-Relation"><span class="nav-text">2. Queries Involving More Than One Relation</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-Products-and-Joins-in-SQL"><span class="nav-text">2.1. Products and Joins in SQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-Disambiguating-Attributes"><span class="nav-text">2.2. Disambiguating Attributes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-Tuple-Variables"><span class="nav-text">2.3. Tuple Variables</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-Interpreting-Multirelation-Queries"><span class="nav-text">2.4. Interpreting Multirelation Queries</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-Union-Intersection-and-Difference-of-Queries"><span class="nav-text">2.5. Union, Intersection, and Difference of Queries</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Subqueries"><span class="nav-text">3. Subqueries</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-Subqueries-that-Produce-Scalar-Values"><span class="nav-text">3.1. Subqueries that Produce Scalar Values</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-Conditions-Involving-Relations"><span class="nav-text">3.2. Conditions Involving Relations</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-Conditions-Involving-Tuples"><span class="nav-text">3.3. Conditions Involving Tuples</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-Correlated-Subqueries"><span class="nav-text">3.4. Correlated Subqueries</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-5-Subqueries-in-FROM-Clauses"><span class="nav-text">3.5. Subqueries in FROM Clauses</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-SQL-Join-Expressions"><span class="nav-text">3.6. SQL Join Expressions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-7-Natural-Joins"><span class="nav-text">3.7. Natural Joins</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-8-Outerjoins"><span class="nav-text">3.8. Outerjoins</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Full-Relation-Operations"><span class="nav-text">4. Full-Relation Operations</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-Eliminating-Duplicates"><span class="nav-text">4.1. Eliminating Duplicates</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-Duplicates-in-Unions-Intersections-and-Differences"><span class="nav-text">4.2. Duplicates in Unions, Intersections, and Differences</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-Grouping-and-Aggregation-in-SQL"><span class="nav-text">4.3. Grouping and Aggregation in SQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-Aggregation-Operators"><span class="nav-text">4.4. Aggregation Operators</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-Grouping"><span class="nav-text">4.5. Grouping</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-6-Grouping-Aggregation-and-Nulls"><span class="nav-text">4.6. Grouping, Aggregation, and Nulls</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-7-HAVING-Clauses"><span class="nav-text">4.7. HAVING Clauses</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-Database-Modifications"><span class="nav-text">5. Database Modifications</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-Insertion"><span class="nav-text">5.1. Insertion</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-Deletion"><span class="nav-text">5.2. Deletion</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-Updates"><span class="nav-text">5.3. Updates</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-Transactions-in-SQL"><span class="nav-text">6. Transactions in SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-Serializability"><span class="nav-text">6.1. Serializability</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-Atomicity"><span class="nav-text">6.2. Atomicity</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-Transactions"><span class="nav-text">6.3. Transactions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-4-Read-Only-Transactionss"><span class="nav-text">6.4. Read-Only Transactionss</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-5-Dirty-Reads"><span class="nav-text">6.5. Dirty Reads</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-6-Other-Isolation-Levels"><span class="nav-text">6.6. Other Isolation Levels</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Book"><span class="nav-text">Book</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zhqyvvn"
      src="https://avatars0.githubusercontent.com/u/38484412?s=460&v=4">
  <p class="site-author-name" itemprop="name">zhqyvvn</p>
  <div class="site-description" itemprop="description">"Software and cathedrals are much the same - first we build them, then we pray."</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zhqyvvn" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zhqyvvn" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhqyvvn@gmail.com" title="E-Mail → mailto:zhqyvvn@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="Back to top">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
        <div class="pjax">
        <div class="sidebar-inner sidebar-post-related">
          <div class="animated">
              <div class="links-of-blogroll-title"><i class="fa fa-signs-post fa-fw"></i>
    Related Posts
  </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2019/10/06/Notes-of-Database-5/" rel="bookmark">
        <time class="popular-posts-time">2019-10-06</time>
        <br>
      Reading Notes of Database Systems (5)
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2019/09/07/Notes-of-Database-4/" rel="bookmark">
        <time class="popular-posts-time">2019-09-07</time>
        <br>
      Reading Notes of Database Systems (4)
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2019/05/13/Notes-of-Database-1/" rel="bookmark">
        <time class="popular-posts-time">2019-05-13</time>
        <br>
      Reading Notes of Database Systems (1)
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2019/06/16/Notes-of-Database-2/" rel="bookmark">
        <time class="popular-posts-time">2019-06-16</time>
        <br>
      Reading Notes of Database Systems (2)
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2020/01/17/Project-LAN-chatroom/" rel="bookmark">
        <time class="popular-posts-time">2020-01-17</time>
        <br>
      Build a Chat Program with C - LAN chatroom
      </a>
    </li>
  </ul>

          </div>
        </div>
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://zhqyvvn.github.io/2019/07/28/Notes-of-Database-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/38484412?s=460&v=4">
      <meta itemprop="name" content="zhqyvvn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tech Knowledge Sharing">
      <meta itemprop="description" content=""Software and cathedrals are much the same - first we build them, then we pray."">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Reading Notes of Database Systems (3) | Tech Knowledge Sharing">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Reading Notes of Database Systems (3)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-07-28 20:53:02" itemprop="dateCreated datePublished" datetime="2019-07-28T20:53:02-04:00">2019-07-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-03-14 22:08:18" itemprop="dateModified" datetime="2023-03-14T22:08:18-04:00">2023-03-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Study-Notes/" itemprop="url" rel="index"><span itemprop="name">Study Notes</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Study-Notes/Database-Systems/" itemprop="url" rel="index"><span itemprop="name">Database Systems</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>2.1k</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>Reading notes of <em>Database Systems-The Complete Book (2nd edition)</em>, <strong>Chapter 5</strong>.</p>
<span id="more"></span>
<h3 id="Chapter-5-The-Database-Language-SQL"><a href="#Chapter-5-The-Database-Language-SQL" class="headerlink" title="Chapter 5 - The Database Language SQL"></a>Chapter 5 - The Database Language SQL</h3><h3 id="1-Simple-Queries-in-SQL"><a href="#1-Simple-Queries-in-SQL" class="headerlink" title="1. Simple Queries in SQL"></a>1. Simple Queries in SQL</h3><p>Movies(title, year, length, genre, studioName, producerC#)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--all movies produced by Disney Studios in 1990</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> studioName <span class="operator">=</span> ’Disney’ <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> <span class="number">1990</span>;</span><br></pre></td></tr></table></figure>

<h4 id="1-1-Projection-in-SQL"><a href="#1-1-Projection-in-SQL" class="headerlink" title="1.1. Projection in SQL"></a>1.1. Projection in SQL</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--produce only the movie title and length</span></span><br><span class="line"><span class="keyword">SELECT</span> title, length</span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> studioName <span class="operator">=</span> ’Disney’ <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> <span class="number">1990</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--produce a relation with attributes name and duration in place of title and length</span></span><br><span class="line"><span class="keyword">SELECT</span> title <span class="keyword">AS</span> name, length <span class="keyword">AS</span> duration</span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> studioName <span class="operator">=</span> ’Disney’ <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> <span class="number">1990</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--with the length in hours</span></span><br><span class="line"><span class="keyword">SELECT</span> title <span class="keyword">AS</span> name, length<span class="operator">*</span><span class="number">0.016667</span> <span class="keyword">AS</span> lengthInHours</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--allow a constant as an expression in the SELECT clause.</span></span><br><span class="line"><span class="keyword">SELECT</span> title, length<span class="operator">*</span><span class="number">0.016667</span> <span class="keyword">AS</span> length, ’hrs.’ <span class="keyword">AS</span> inHours</span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> studioName <span class="operator">=</span> ’Disney’ <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> <span class="number">1990</span>;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-Selection-in-SQL"><a href="#1-2-Selection-in-SQL" class="headerlink" title="1.2. Selection in SQL"></a>1.2. Selection in SQL</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> title</span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> (<span class="keyword">year</span> <span class="operator">&gt;</span> <span class="number">1970</span> <span class="keyword">OR</span> length <span class="operator">&lt;</span> <span class="number">90</span>) <span class="keyword">AND</span> studioName <span class="operator">=</span> ’MGM’;</span><br></pre></td></tr></table></figure>

<h4 id="1-3-Comparison-of-Strings"><a href="#1-3-Comparison-of-Strings" class="headerlink" title="1.3. Comparison of Strings"></a>1.3. Comparison of Strings</h4><h4 id="1-4-Pattern-Matching-in-SQL"><a href="#1-4-Pattern-Matching-in-SQL" class="headerlink" title="1.4. Pattern Matching in SQL"></a>1.4. Pattern Matching in SQL</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s <span class="keyword">LIKE</span> p</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--The last four characters may be anything.</span></span><br><span class="line"><span class="keyword">SELECT</span> title</span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> title <span class="keyword">LIKE</span> ’Star ____’;</span><br><span class="line"><span class="comment">--results can be Star Wars and Star Trek.</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--search for all movies with a possessive (’s) in their titles</span></span><br><span class="line"><span class="keyword">SELECT</span> title</span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> title <span class="keyword">LIKE</span> ’<span class="operator">%</span>’’s<span class="operator">%</span>’;</span><br><span class="line"><span class="comment">--’’s in a pattern is matched by a single apostrophe followed by an s.</span></span><br><span class="line"><span class="comment">-- results can be Logan’s Run or Alice’s Restaurant</span></span><br></pre></td></tr></table></figure>

<h4 id="1-5-Dates-and-Times"><a href="#1-5-Dates-and-Times" class="headerlink" title="1.5. Dates and Times"></a>1.5. Dates and Times</h4><h4 id="1-6-Null-Values-and-Comparisons-Involving-NULL"><a href="#1-6-Null-Values-and-Comparisons-Involving-NULL" class="headerlink" title="1.6. Null Values and Comparisons Involving NULL"></a>1.6. Null Values and Comparisons Involving NULL</h4><h4 id="1-7-The-Truth-Value-UNKNOWN"><a href="#1-7-The-Truth-Value-UNKNOWN" class="headerlink" title="1.7. The Truth-Value UNKNOWN"></a>1.7. The Truth-Value UNKNOWN</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> length <span class="operator">&lt;=</span> <span class="number">120</span> <span class="keyword">OR</span> length <span class="operator">&gt;</span> <span class="number">120</span>;</span><br><span class="line"><span class="comment">--the true meaning of the query is “find all the Movies tuples with non-NULL lengths.”</span></span><br></pre></td></tr></table></figure>

<h4 id="1-8-Ordering-the-Output"><a href="#1-8-Ordering-the-Output" class="headerlink" title="1.8. Ordering the Output"></a>1.8. Ordering the Output</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--get the movies listed by length, shortest first, and among movies of equal length, alphabetically</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">WHERE</span> studioName <span class="operator">=</span> ’Disney’ <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> <span class="number">1990</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> length, title;</span><br></pre></td></tr></table></figure>

<h3 id="2-Queries-Involving-More-Than-One-Relation"><a href="#2-Queries-Involving-More-Than-One-Relation" class="headerlink" title="2. Queries Involving More Than One Relation"></a>2. Queries Involving More Than One Relation</h3><h4 id="2-1-Products-and-Joins-in-SQL"><a href="#2-1-Products-and-Joins-in-SQL" class="headerlink" title="2.1. Products and Joins in SQL"></a>2.1. Products and Joins in SQL</h4><p>Movies(title, year, length, genre, studioName, producerC#)<br>MovieExec(name, address, cert#, netWorth)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--get the name of the producer of Star Wars</span></span><br><span class="line"><span class="keyword">SELECT</span> name</span><br><span class="line"><span class="keyword">FROM</span> Movies, MovieExec</span><br><span class="line"><span class="keyword">WHERE</span> title <span class="operator">=</span> ’Star Wars’ <span class="keyword">AND</span> producerC# <span class="operator">=</span> cert#;</span><br></pre></td></tr></table></figure>

<h4 id="2-2-Disambiguating-Attributes"><a href="#2-2-Disambiguating-Attributes" class="headerlink" title="2.2. Disambiguating Attributes"></a>2.2. Disambiguating Attributes</h4><p>MovieStar(name, address, gender, birthdate)<br>MovieExec(name, address, cert#, netWorth)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--find pairs consisting of a star and an executive with the same address.</span></span><br><span class="line"><span class="keyword">SELECT</span> MovieStar.name, MovieExec.name</span><br><span class="line"><span class="keyword">FROM</span> MovieStar, MovieExec</span><br><span class="line"><span class="keyword">WHERE</span> MovieStar.address <span class="operator">=</span> MovieExec.address;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--The relation name, followed by a dot, is permissible even in situations where there is no ambiguity.</span></span><br><span class="line"><span class="keyword">SELECT</span> MovieExec.name</span><br><span class="line"><span class="keyword">FROM</span> Movies, MovieExec</span><br><span class="line"><span class="keyword">WHERE</span> Movie.title <span class="operator">=</span> ’Star Wars’</span><br><span class="line"><span class="keyword">AND</span> Movie.producerC# <span class="operator">=</span> MovieExec.cert#;</span><br></pre></td></tr></table></figure>

<h4 id="2-3-Tuple-Variables"><a href="#2-3-Tuple-Variables" class="headerlink" title="2.3. Tuple Variables"></a>2.3. Tuple Variables</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--find two stars who share an address and use tuple variables as aliases for two uses of MovieStar</span></span><br><span class="line"><span class="keyword">SELECT</span> Star1.name, Star2.name</span><br><span class="line"><span class="keyword">FROM</span> MovieStar Star1, MovieStar Star2</span><br><span class="line"><span class="keyword">WHERE</span> Star1.address <span class="operator">=</span> Star2.address</span><br><span class="line"><span class="keyword">AND</span> Star1.name <span class="operator">&lt;</span> Star2.name;</span><br></pre></td></tr></table></figure>

<h4 id="2-4-Interpreting-Multirelation-Queries"><a href="#2-4-Interpreting-Multirelation-Queries" class="headerlink" title="2.4. Interpreting Multirelation Queries"></a>2.4. Interpreting Multirelation Queries</h4><h4 id="2-5-Union-Intersection-and-Difference-of-Queries"><a href="#2-5-Union-Intersection-and-Difference-of-Queries" class="headerlink" title="2.5. Union, Intersection, and Difference of Queries"></a>2.5. Union, Intersection, and Difference of Queries</h4><p>MovieStar(name, address, gender, birthdate)<br>MovieExec(name, address, cert#, netWorth)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--the names and addresses of all female movie stars who are also movie executives with a net worth over $10,000,000</span></span><br><span class="line">(<span class="keyword">SELECT</span> name, address</span><br><span class="line"><span class="keyword">FROM</span> MovieStar</span><br><span class="line"><span class="keyword">WHERE</span> gender <span class="operator">=</span> ’F’)</span><br><span class="line"><span class="keyword">INTERSECT</span></span><br><span class="line">(<span class="keyword">SELECT</span> name, address</span><br><span class="line"><span class="keyword">FROM</span> MovieExec</span><br><span class="line"><span class="keyword">WHERE</span> netWorth <span class="operator">&gt;</span> <span class="number">10000000</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--take the difference of two sets of persons, each selected from a relation.</span></span><br><span class="line">(<span class="keyword">SELECT</span> name, address <span class="keyword">FROM</span> MovieStar)</span><br><span class="line"><span class="keyword">EXCEPT</span></span><br><span class="line">(<span class="keyword">SELECT</span> name, address <span class="keyword">FROM</span> MovieExec);</span><br></pre></td></tr></table></figure>
<p>Movies(title, year, length, genre, studioName, producerC#)<br>StarsIn(movieTitle, movieYear, starName)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--find all the titles and years of movies that appeared in either the Movies or StarsIn relation</span></span><br><span class="line">(<span class="keyword">SELECT</span> title, <span class="keyword">year</span> <span class="keyword">FROM</span> Movie)</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line">(<span class="keyword">SELECT</span> movieTitle <span class="keyword">AS</span> title, movieYear <span class="keyword">AS</span> <span class="keyword">year</span> <span class="keyword">FROM</span> StarsIn);</span><br></pre></td></tr></table></figure>

<h3 id="3-Subqueries"><a href="#3-Subqueries" class="headerlink" title="3. Subqueries"></a>3. Subqueries</h3><h4 id="3-1-Subqueries-that-Produce-Scalar-Values"><a href="#3-1-Subqueries-that-Produce-Scalar-Values" class="headerlink" title="3.1. Subqueries that Produce Scalar Values"></a>3.1. Subqueries that Produce Scalar Values</h4><p>Movies(title, year, length, genre, studioName, producerC#)<br>MovieExec(name, address, cert#, netWorth)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name</span><br><span class="line"><span class="keyword">FROM</span> MovieExec</span><br><span class="line"><span class="keyword">WHERE</span> cert# <span class="operator">=</span></span><br><span class="line">    (<span class="keyword">SELECT</span> producerC#</span><br><span class="line">    <span class="keyword">FROM</span> Movies</span><br><span class="line">    <span class="keyword">WHERE</span> title <span class="operator">=</span> ’Star Wars’</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
<p>as if it were</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name</span><br><span class="line"><span class="keyword">FROM</span> MovieExec</span><br><span class="line"><span class="keyword">WHERE</span> cert# <span class="operator">=</span> <span class="number">12345</span>;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-Conditions-Involving-Relations"><a href="#3-2-Conditions-Involving-Relations" class="headerlink" title="3.2. Conditions Involving Relations"></a>3.2. Conditions Involving Relations</h4><h4 id="3-3-Conditions-Involving-Tuples"><a href="#3-3-Conditions-Involving-Tuples" class="headerlink" title="3.3. Conditions Involving Tuples"></a>3.3. Conditions Involving Tuples</h4><p>Movies(title, year, length, genre, studioName, producerC#)<br>StarsIn(movieTitle, movieYear, starName)<br>MovieExec(name, address, cert#, netWorth)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Finding the producers of Harrison Ford’s movies</span></span><br><span class="line"><span class="keyword">SELECT</span> name</span><br><span class="line"><span class="keyword">FROM</span> MovieExec</span><br><span class="line"><span class="keyword">WHERE</span> cert# <span class="keyword">IN</span></span><br><span class="line">    (<span class="keyword">SELECT</span> producerC#</span><br><span class="line">    <span class="keyword">FROM</span> Movies</span><br><span class="line">    <span class="keyword">WHERE</span> (title, <span class="keyword">year</span>) <span class="keyword">IN</span></span><br><span class="line">        (<span class="keyword">SELECT</span> movieTitle, movieYear</span><br><span class="line">        <span class="keyword">FROM</span> StarsIn</span><br><span class="line">        <span class="keyword">WHERE</span> starName <span class="operator">=</span> ’Harrison Ford’</span><br><span class="line">        )</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Ford’s producers without nested subqueries</span></span><br><span class="line"><span class="keyword">SELECT</span> name</span><br><span class="line"><span class="keyword">FROM</span> MovieExec, Movies, StarsIn</span><br><span class="line"><span class="keyword">WHERE</span> cert# <span class="operator">=</span> producerC# <span class="keyword">AND</span></span><br><span class="line">    title <span class="operator">=</span> movieTitle <span class="keyword">AND</span></span><br><span class="line">    <span class="keyword">year</span> <span class="operator">=</span> movieYear <span class="keyword">AND</span></span><br><span class="line">    starName <span class="operator">=</span> ’Harrison Ford’;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-Correlated-Subqueries"><a href="#3-4-Correlated-Subqueries" class="headerlink" title="3.4. Correlated Subqueries"></a>3.4. Correlated Subqueries</h4><p>Movies(title, year, length, genre, studioName, producerC#)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Finding movie titles that appear more than once</span></span><br><span class="line"><span class="keyword">SELECT</span> title</span><br><span class="line"><span class="keyword">FROM</span> Movies <span class="keyword">Old</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">year</span> <span class="operator">&lt;</span> <span class="keyword">ANY</span></span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="keyword">year</span></span><br><span class="line">    <span class="keyword">FROM</span> Movies</span><br><span class="line">    <span class="keyword">WHERE</span> title <span class="operator">=</span> Old.title</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<h4 id="3-5-Subqueries-in-FROM-Clauses"><a href="#3-5-Subqueries-in-FROM-Clauses" class="headerlink" title="3.5. Subqueries in FROM Clauses"></a>3.5. Subqueries in FROM Clauses</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Finding the producers of Ford’s movies using a subquery in the FROM clause</span></span><br><span class="line"><span class="keyword">SELECT</span> name</span><br><span class="line"><span class="keyword">FROM</span> MovieExec, (<span class="keyword">SELECT</span> producerC#</span><br><span class="line">                <span class="keyword">FROM</span> Movies, StarsIn</span><br><span class="line">                <span class="keyword">WHERE</span> title <span class="operator">=</span> movieTitle <span class="keyword">AND</span></span><br><span class="line">                <span class="keyword">year</span> <span class="operator">=</span> movieYear <span class="keyword">AND</span></span><br><span class="line">                starName <span class="operator">=</span> ’Harrison Ford’</span><br><span class="line">                ) Prod</span><br><span class="line"><span class="keyword">WHERE</span> cert# <span class="operator">=</span> Prod.producerC#;</span><br></pre></td></tr></table></figure>

<h4 id="3-6-SQL-Join-Expressions"><a href="#3-6-SQL-Join-Expressions" class="headerlink" title="3.6. SQL Join Expressions"></a>3.6. SQL Join Expressions</h4><p>Movies(title, year, length, genre, studioName, producerC#)<br>StarsIn(movieTitle, movieYear, starName)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Movies <span class="keyword">JOIN</span> StarsIn <span class="keyword">ON</span></span><br><span class="line">    title <span class="operator">=</span> movieTitle <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> movieYear;</span><br><span class="line"><span class="comment">--a tuple from Movies and one from StarsIn combine to form a tuple of the result only if the two tuples agree on both the title and year.</span></span><br><span class="line"><span class="comment">--two of the columns are redundant, because every tuple of the result will have the same value in both the title and movieTitle components and will have the same value in both year and movieYear.</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--remove redundant components</span></span><br><span class="line"><span class="keyword">SELECT</span> title, <span class="keyword">year</span>, length, genre, studioName,</span><br><span class="line">    producerC#, starName</span><br><span class="line"><span class="keyword">FROM</span> Movies <span class="keyword">JOIN</span> StarsIn <span class="keyword">ON</span></span><br><span class="line">    title <span class="operator">=</span> movieTitle <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> movieYear;</span><br></pre></td></tr></table></figure>

<h4 id="3-7-Natural-Joins"><a href="#3-7-Natural-Joins" class="headerlink" title="3.7. Natural Joins"></a>3.7. Natural Joins</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MovieStar <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> MovieExec;</span><br></pre></td></tr></table></figure>

<h4 id="3-8-Outerjoins"><a href="#3-8-Outerjoins" class="headerlink" title="3.8. Outerjoins"></a>3.8. Outerjoins</h4><p>MovieStar(name, address, gender, birthdate)<br>MovieExec(name, address, cert#, netWorth)</p>
<table>
<thead>
<tr>
<th>name</th>
<th>address</th>
<th>gender</th>
<th>birthdate</th>
<th>cert#</th>
<th>networth</th>
</tr>
</thead>
<tbody><tr>
<td>Mary</td>
<td>Maple St.</td>
<td>‘F’</td>
<td>9&#x2F;9&#x2F;99</td>
<td>12345</td>
<td>$100..</td>
</tr>
<tr>
<td>Tom</td>
<td>Cherry Ln.</td>
<td>‘M’</td>
<td>8&#x2F;8&#x2F;88</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>George</td>
<td>Oak Rd.</td>
<td>NULL</td>
<td>NULL</td>
<td>23456</td>
<td>$200..</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- The result of this operation is above, a relation with the same six-attribute schema. The tuples of this relation are of three kinds.</span></span><br><span class="line">MovieStar <span class="keyword">NATURAL</span> <span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> MovieExec;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- yield the first two tuples but not the third</span></span><br><span class="line">MovieStar <span class="keyword">NATURAL</span> <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> MovieExec;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- yield the first and third tuples but not the second</span></span><br><span class="line">MovieStar <span class="keyword">NATURAL</span> <span class="keyword">RIGHT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> MovieExec;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Next, suppose we want a theta-outerjoin instead of a natural outerjoin. Instead of using the keyword <em>NATURAL</em>, we may follow the join by <em>ON</em> and a condition that matching tuples must obey. If we also specify <em>FULL OUTER JOIN</em>, then after matching tuples from the two joined relations, we pad dangling tuples of either relation with NULL’s and include the padded tuples in the result</p>
</blockquote>
<p>Movies(title, year, length, genre, studioName, producerC#)<br>StarsIn(movieTitle, movieYear, starName)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--  shall get not only tuples for movies that have at least one star mentioned in StarsIn, but we shall get tuples for movies with no listed stars, padded with NULL’s in attributes movieTitle, movieYear, and starName. Likewise, for stars not appearing in any movie listed in relation Movies we get a tuple with NULL’s in the six attributes of Movies.</span></span><br><span class="line">Movies <span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> StarsIn <span class="keyword">ON</span></span><br><span class="line">    title <span class="operator">=</span> movieTitle <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> movieYear;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- gives us the Movies tuples with at least one listed star and NULL-padded Movies tuples without a listed star, but will not include stars without a listed movie</span></span><br><span class="line">Movies <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> StarsIn <span class="keyword">ON</span></span><br><span class="line">    title <span class="operator">=</span> movieTitle <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> movieYear;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- omit the tuples for movies without a listed star but will include tuples for stars not in any listed movies, padded with NULL’s.</span></span><br><span class="line">Movies <span class="keyword">RIGHT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> StarsIn <span class="keyword">ON</span>  </span><br><span class="line">    title <span class="operator">=</span> movieTitle <span class="keyword">AND</span> <span class="keyword">year</span> <span class="operator">=</span> movieYear;</span><br></pre></td></tr></table></figure>

<h3 id="4-Full-Relation-Operations"><a href="#4-Full-Relation-Operations" class="headerlink" title="4. Full-Relation Operations"></a>4. Full-Relation Operations</h3><h4 id="4-1-Eliminating-Duplicates"><a href="#4-1-Eliminating-Duplicates" class="headerlink" title="4.1. Eliminating Duplicates"></a>4.1. Eliminating Duplicates</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> name</span><br></pre></td></tr></table></figure>

<h4 id="4-2-Duplicates-in-Unions-Intersections-and-Differences"><a href="#4-2-Duplicates-in-Unions-Intersections-and-Differences" class="headerlink" title="4.2. Duplicates in Unions, Intersections, and Differences"></a>4.2. Duplicates in Unions, Intersections, and Differences</h4><blockquote>
<p>Unlike the <em>SELECT</em> statement, which preserves duplicates as a default and only eliminates them when instructed to by the <em>DISTINCT</em> keyword, the union, intersection, and difference operations, normally eliminate duplicates. That is, bags are converted to sets, and the set version of the operation is applied. In order to prevent the elimination of duplicates, we must follow the operator <em>UNION</em>, <em>INTERSECT</em>, or <em>EXCEPT</em> by the keyword <strong>ALL</strong>. If we do, then we get the bag semantics of these operators.</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">SELECT</span> title, <span class="keyword">year</span> <span class="keyword">FROM</span> Movies)</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line">(<span class="keyword">SELECT</span> movieTitle <span class="keyword">AS</span> title, movieYear <span class="keyword">AS</span> <span class="keyword">year</span> <span class="keyword">FROM</span> StarsIn);</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- If R and S are relations, then the result of expression is the relation in which the number of times a tuple t appears is the minimum of the number of times it appears in R and the number of times it appears in S.</span></span><br><span class="line">R <span class="keyword">INTERSECT</span> <span class="keyword">ALL</span> S</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- The result of expression has tuple t as many times as the difference of the number of times it appears in R minus the number of times it appears in S, provided the difference is positive</span></span><br><span class="line">R <span class="keyword">EXCEPT</span> <span class="keyword">ALL</span> S</span><br></pre></td></tr></table></figure>

<h4 id="4-3-Grouping-and-Aggregation-in-SQL"><a href="#4-3-Grouping-and-Aggregation-in-SQL" class="headerlink" title="4.3. Grouping and Aggregation in SQL"></a>4.3. Grouping and Aggregation in SQL</h4><h4 id="4-4-Aggregation-Operators"><a href="#4-4-Aggregation-Operators" class="headerlink" title="4.4. Aggregation Operators"></a>4.4. Aggregation Operators</h4><p>MovieExec(name, address, cert#, netWorth)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(netWorth)</span><br><span class="line"><span class="keyword">FROM</span> MovieExec;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> StarsIn;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(starName)</span><br><span class="line"><span class="keyword">FROM</span> StarsIn;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> starName)</span><br><span class="line"><span class="keyword">FROM</span> StarsIn;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-Grouping"><a href="#4-5-Grouping" class="headerlink" title="4.5. Grouping"></a>4.5. Grouping</h4><p>Movies(title, year, length, genre, studioName, producerC#)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> studioName, <span class="built_in">SUM</span>(length)</span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> studioName;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>In a <em>SELECT</em> clause that has aggregations, only those attributes<br>that are mentioned in the <em>GROUP BY</em> clause may appear unaggregated in<br>the <em>SELECT</em> clause.</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> studioName</span><br><span class="line"><span class="keyword">FROM</span> Movies</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> studioName;</span><br></pre></td></tr></table></figure>
<p>the above query has the same effect as</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> studioName</span><br><span class="line"><span class="keyword">FROM</span> Movies;</span><br></pre></td></tr></table></figure>

<p>Movies(title, year, length, genre, studioName, producerC#)<br>MovieExec(name, address, cert#, netWorth)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- print a table listing each producer’s total length of film produced.</span></span><br><span class="line"><span class="keyword">SELECT</span> name, <span class="built_in">SUM</span>(length)</span><br><span class="line"><span class="keyword">FROM</span> MovieExec, Movies</span><br><span class="line"><span class="keyword">WHERE</span> producerC# <span class="operator">=</span> cert# <span class="comment">--taking their theta-join, equating the certificate numbers from the two relations.</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> name;</span><br></pre></td></tr></table></figure>

<h4 id="4-6-Grouping-Aggregation-and-Nulls"><a href="#4-6-Grouping-Aggregation-and-Nulls" class="headerlink" title="4.6. Grouping, Aggregation, and Nulls"></a>4.6. Grouping, Aggregation, and Nulls</h4><blockquote>
<p><code>COUNT(*)</code> is always a count of the number of tuples in a relation, but <code>COUNT(A)</code> is the number of tuples with <em>non-NULL</em> values for attribute <em>A</em>.</p>
</blockquote>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
</tr>
</thead>
<tbody><tr>
<td>NULL</td>
<td>NULL</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- the result is the one tuple (NULL, 0)</span></span><br><span class="line"><span class="keyword">SELECT</span> A, <span class="built_in">COUNT</span>(B)</span><br><span class="line"><span class="keyword">FROM</span> R</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> A;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- the result is the one tuple (NULL, NULL).</span></span><br><span class="line"><span class="keyword">SELECT</span> A, <span class="built_in">SUM</span>(B)</span><br><span class="line"><span class="keyword">FROM</span> R</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> A;</span><br></pre></td></tr></table></figure>

<h4 id="4-7-HAVING-Clauses"><a href="#4-7-HAVING-Clauses" class="headerlink" title="4.7. HAVING Clauses"></a>4.7. HAVING Clauses</h4><blockquote>
<p>Sometimes we want to choose our groups based on some aggregate property of the group itself. Then we follow the <em>GROUP BY</em> clause with a <em>HAVING</em> clause. The latter clause consists of the keyword <em>HAVING</em> followed by a condition about the group</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- print the total film length for only those producers who made at least one film prior to 1930</span></span><br><span class="line"><span class="keyword">SELECT</span> name, <span class="built_in">SUM</span>(length)</span><br><span class="line"><span class="keyword">FROM</span> MovieExec, Movies</span><br><span class="line"><span class="keyword">WHERE</span> producerC# <span class="operator">=</span> cert#</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> name;</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">MIN</span>(<span class="keyword">year</span>) <span class="operator">&lt;</span> <span class="number">1930</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>There are several rules about HAVING clauses:  </p>
</blockquote>
<ul>
<li>An aggregation in a <em>HAVING</em> clause applies only to the tuples of the group being tested.  </li>
<li>Any attribute of relations in the <em>FROM</em> clause may be aggregated in the <em>HAVING</em> clause, but only those attributes that are in the <em>GROUP BY</em> list may appear unaggregated in the <em>HAVING</em> clause (the same rule as for the <em>SELECT</em> clause).</li>
</ul>
<blockquote>
<p>We have now met all six clauses that can appear in a SQL “select-fromwhere” query: <em>SELECT</em>, <em>FROM</em>, <em>WHERE</em>, <em>GROUP BY</em>, <em>HAVING</em>, and <em>ORDER BY</em>. Only the <em>SELECT</em> and <em>FROM</em> clauses are required. Whichever additional clauses appear must be in the order listed above.</p>
</blockquote>
<h3 id="5-Database-Modifications"><a href="#5-Database-Modifications" class="headerlink" title="5. Database Modifications"></a>5. Database Modifications</h3><h4 id="5-1-Insertion"><a href="#5-1-Insertion" class="headerlink" title="5.1. Insertion"></a>5.1. Insertion</h4><p><code>INSERT INTO R(A1, . . . , An) VALUES (v1, . . . , vn);</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> StarsIn(movieTitle, movieYear, starName)</span><br><span class="line"><span class="keyword">VALUES</span>(’The Maltese Falcon’, <span class="number">1942</span>, ’Sydney Greenstreet’);</span><br></pre></td></tr></table></figure>
<p>Or</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- must be sure that the order of the values is the same as the standard order of attributes for the relation.</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> StarsIn</span><br><span class="line"><span class="keyword">VALUES</span>(’The Maltese Falcon’, <span class="number">1942</span>, ’Sydney Greenstreet’);</span><br></pre></td></tr></table></figure>

<p>Studio(name, address, presC#)<br>Movies(title, year, length, genre, studioName, producerC#)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- insert with NULL for the attributes address and presC#, into relation Studio</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Studio(name)</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> studioName</span><br><span class="line">    <span class="keyword">FROM</span> Movies</span><br><span class="line">    <span class="keyword">WHERE</span> studioName <span class="keyword">NOT</span> <span class="keyword">IN</span></span><br><span class="line">        (<span class="keyword">SELECT</span> name</span><br><span class="line">        <span class="keyword">FROM</span> Studio);</span><br></pre></td></tr></table></figure>

<h4 id="5-2-Deletion"><a href="#5-2-Deletion" class="headerlink" title="5.2. Deletion"></a>5.2. Deletion</h4><p><code>DELETE FROM R WHERE &lt;condition&gt;;</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- must describe the tuple exactly by a WHERE clause</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> StarsIn</span><br><span class="line"><span class="keyword">WHERE</span> movieTitle <span class="operator">=</span> <span class="string">&#x27;The Maltese Falcon&#x27;</span> <span class="keyword">AND</span></span><br><span class="line">    movieYear <span class="operator">=</span> <span class="number">1942</span> <span class="keyword">AND</span></span><br><span class="line">    starName <span class="operator">=</span> <span class="string">&#x27;Sydney Greenstreet&#x27;</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> MovieExec</span><br><span class="line"><span class="keyword">WHERE</span> netWorth <span class="operator">&lt;</span> <span class="number">10000000</span>;</span><br></pre></td></tr></table></figure>

<h4 id="5-3-Updates"><a href="#5-3-Updates" class="headerlink" title="5.3. Updates"></a>5.3. Updates</h4><p><code>UPDATE R SET &lt;new-value assignments&gt; WHERE &lt;condition&gt;;</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- attach the title Pres. in front of the name of every movie executive who is the president of a studio.</span></span><br><span class="line"><span class="keyword">UPDATE</span> MovieExec</span><br><span class="line"><span class="keyword">SET</span> name <span class="operator">=</span> <span class="string">&#x27;Pres. &#x27;</span> <span class="operator">||</span> name <span class="comment">-- the operator || denotes concatenation of strings</span></span><br><span class="line"><span class="keyword">WHERE</span> cert# <span class="keyword">IN</span> (<span class="keyword">SELECT</span> presC# <span class="keyword">FROM</span> Studio);</span><br></pre></td></tr></table></figure>

<h3 id="6-Transactions-in-SQL"><a href="#6-Transactions-in-SQL" class="headerlink" title="6. Transactions in SQL"></a>6. Transactions in SQL</h3><h4 id="6-1-Serializability"><a href="#6-1-Serializability" class="headerlink" title="6.1. Serializability"></a>6.1. Serializability</h4><h4 id="6-2-Atomicity"><a href="#6-2-Atomicity" class="headerlink" title="6.2. Atomicity"></a>6.2. Atomicity</h4><h4 id="6-3-Transactions"><a href="#6-3-Transactions" class="headerlink" title="6.3. Transactions"></a>6.3. Transactions</h4><h4 id="6-4-Read-Only-Transactionss"><a href="#6-4-Read-Only-Transactionss" class="headerlink" title="6.4. Read-Only Transactionss"></a>6.4. Read-Only Transactionss</h4><h4 id="6-5-Dirty-Reads"><a href="#6-5-Dirty-Reads" class="headerlink" title="6.5. Dirty Reads"></a>6.5. Dirty Reads</h4><h4 id="6-6-Other-Isolation-Levels"><a href="#6-6-Other-Isolation-Levels" class="headerlink" title="6.6. Other Isolation Levels"></a>6.6. Other Isolation Levels</h4><h3 id="Book"><a href="#Book" class="headerlink" title="Book"></a>Book</h3><p>Database Systems-The Complete Book(2nd ed, 2014, Pearson)</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Relational-Algebra/" rel="tag"><i class="fa fa-tag"></i> Relational Algebra</a>
              <a href="/tags/SQL/" rel="tag"><i class="fa fa-tag"></i> SQL</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/09/07/Notes-of-Database-4/" rel="prev" title="Reading Notes of Database Systems (4)">
                  <i class="fa fa-chevron-left"></i> Reading Notes of Database Systems (4)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/06/16/Notes-of-Database-2/" rel="next" title="Reading Notes of Database Systems (2)">
                  Reading Notes of Database Systems (2) <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhqyvvn</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>Word count total: </span>
    <span title="Word count total">55k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>Reading time total &asymp;</span>
    <span title="Reading time total">4:34</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/pace.js"></script>

  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"zhqyvvn","repo":"zhqyvvn.github.io","client_id":"c28a59a6f171f3e27313","client_secret":"a31ffbb812ba7a28cd66045ae2a68e017e9d539f","admin_user":"zhqyvvn","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"fab018a48ef98808e68133db7ef1799e"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
